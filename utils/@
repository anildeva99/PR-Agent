import os
import requests


def notify(message: str) -> None:
    webhook_url = os.getenv("SLACK_WEBHOOK_URL")

    if not webhook_url:
        print("SLACK_WEBHOOK_URL not set, skipping Slack notification")
        return

    payload = {"text": message}
    response = requests.post(webhook_url, json=payload, timeout=10)

    if response.status_code != 200:
        raise RuntimeError(
            f"Slack notification failed: {response.status_code} {response.text}"
        )

